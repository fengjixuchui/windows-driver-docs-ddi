---
UID: NS:wdm._PCW_COUNTER_DESCRIPTOR
title: _PCW_COUNTER_DESCRIPTOR (wdm.h)
description: The PCW_COUNTER_DESCRIPTOR structure supplies details about the notification to send.
old-location: devtest\pcw_counter_descriptor.htm
tech.root: devtest
ms.assetid: 0b099aec-f254-4cfb-87cb-2f8965d5faae
ms.date: 07/28/2020
keywords: ["PCW_COUNTER_DESCRIPTOR structure"]
ms.keywords: "*PPCW_COUNTER_DESCRIPTOR, PCW_COUNTER_DESCRIPTOR, PCW_COUNTER_DESCRIPTOR structure [Driver Development Tools], PPCW_COUNTER_DESCRIPTOR, PPCW_COUNTER_DESCRIPTOR structure pointer [Driver Development Tools], _PCW_COUNTER_DESCRIPTOR, devtest.pcw_counter_descriptor, km_pcw_8507bc5e-60f4-4b71-bb2f-d62360076e2c.xml, wdm/PCW_COUNTER_DESCRIPTOR, wdm/PPCW_COUNTER_DESCRIPTOR"
req.header: wdm.h
req.include-header: Wdm.h, Ntddk.h
req.target-type: Windows
req.target-min-winverclnt: Available in Windows 7 and later versions of Windows.
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
targetos: Windows
req.typenames: PCW_COUNTER_DESCRIPTOR, *PPCW_COUNTER_DESCRIPTOR
f1_keywords:
 - _PCW_COUNTER_DESCRIPTOR
 - wdm/_PCW_COUNTER_DESCRIPTOR
 - PPCW_COUNTER_DESCRIPTOR
 - wdm/PPCW_COUNTER_DESCRIPTOR
 - PCW_COUNTER_DESCRIPTOR
 - wdm/PCW_COUNTER_DESCRIPTOR
topic_type:
 - APIRef
 - kbSyntax
api_type:
 - HeaderDef
api_location:
 - wdm.h
api_name:
 - PCW_COUNTER_DESCRIPTOR
---

# PCW_COUNTER_DESCRIPTOR structure


## -description

The `PCW_COUNTER_DESCRIPTOR` structure is used to provide information about a counter value during counterset registration. Most developers do not need to access this structure directly because it is automatically managed by the counterset registration code generated by the [CTRPP](https://docs.microsoft.com/windows/win32/perfctrs/ctrpp) tool.

## -struct-fields

### -field Id

A numeric value that specifies the ID of the counter described by this structure. This should match the value provided in the `id` field of a [counter](https://docs.microsoft.com/windows/win32/perfctrs/performance-counters-counter-complex-type) element in the provider's counterset manifest.

### -field StructIndex

A numeric value that specifies an index into an array of [PCW_DATA](ns-wdm-_pcw_data.md) structures. In subsequent calls to `PcwCreateInstance` or `PcwAddInstance`, the data block described by `PcwData[PcwCounterDescriptor->StructIndex]` will be used as the source of data for the counter with ID `PcwCounterDescriptor->Id`.

### -field Offset

A numeric value that specifies an offset (in bytes) relative to the data block indicated by the `StructIndex` field. In subsequent calls to `PcwCreateInstance` or `PcwAddInstance`, the address `PcwData[PcwCounterDescriptor->StructIndex].Data + PcwCounterDescriptor->Offset` will be used as the start of the value for the counter with ID `PcwCounterDescriptor->Id`.

### -field Size

A numeric value that specifies the size, in bytes, of the value for the counter with ID `PcwCounterDescriptor->Id`. The `Size` field should be set to 4 (for a `UINT32` counter value) or 8 (for a `UINT64` counter value).

## -remarks

Most developers do not need to use this structure directly. The `CTRPP` tool generates registration code that initializes `PCW_COUNTER_DESCRIPTOR` structures based on the content of the provider manifest.

An array of `PCW_COUNTER_DESCRIPTOR` structures is provided during counterset registration (via the [PCW_REGISTRATION_INFORMATION](ns-wdm-_pcw_registration_information.md) structure passed to `PcwRegister`). The information from the array is recorded and will be used by `PcwCreateInstance` or `PcwAddInstance` to extract counter values from the data blocks described by a `PCW_DATA` array.

## -see-also

[_PCW_REGISTRATION_INFORMATION structure](ns-wdm-_pcw_registration_information.md)

[_PCW_DATA structure](ns-wdm-_pcw_data.md)

[CTRPP](https://docs.microsoft.com/windows/win32/perfctrs/ctrpp)

[counter Complex Type](https://docs.microsoft.com/windows/win32/perfctrs/performance-counters-counter-complex-type)

