---
UID: NF:rxprocs.RxIndicateChangeOfBufferingStateForSrvOpen
title: RxIndicateChangeOfBufferingStateForSrvOpen function (rxprocs.h)
description: RxIndicateChangeOfBufferingStateForSrvOpen is called to register a change buffering state request (an oplock break indication, for example) for later processing. If the necessary preconditions are satisfied, the oplock is processed further.
old-location: ifsk\rxindicatechangeofbufferingstateforsrvopen.htm
tech.root: ifsk
ms.assetid: 70efd8d7-c275-440e-a4df-f41b799a63f0
ms.date: 04/16/2018
ms.keywords: RxIndicateChangeOfBufferingStateForSrvOpen, RxIndicateChangeOfBufferingStateForSrvOpen function [Installable File System Drivers], ifsk.rxindicatechangeofbufferingstateforsrvopen, rxprocs/RxIndicateChangeOfBufferingStateForSrvOpen, rxref_6fc017ff-369c-47c3-8a5c-45f808d1d86c.xml
ms.topic: function
req.header: rxprocs.h
req.include-header: Rxprocs.h, Struchdr.h, Fcb.h
req.target-type: Desktop
req.target-min-winverclnt: 
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: "<= APC_LEVEL"
topic_type:
- APIRef
- kbSyntax
api_type:
- HeaderDef
api_location:
- rxprocs.h
api_name:
- RxIndicateChangeOfBufferingStateForSrvOpen
product:
- Windows
targetos: Windows
req.typenames: 
---

# RxIndicateChangeOfBufferingStateForSrvOpen function


## -description


<b>RxIndicateChangeOfBufferingStateForSrvOpen</b> is called to register a change buffering state request (an oplock break indication, for example) for later processing. If the necessary preconditions are satisfied, the oplock is processed further. 


## -parameters




### -param SrvCall

A pointer to the SRV_CALL structure.


### -param SrvOpen

A pointer to the SRV_OPEN structure.


### -param SrvOpenKey

A pointer to the key for the SRV_OPEN key structure.


### -param Context

<p>A pointer to the context to be passed back to the network mini-redirector during callbacks for processing the request.</p>




## -returns



None




## -remarks



This routine registers the change buffering state request by either inserting it in the registration list (DPC Level processing ) or the appropriate dispatcher/handler list.

This is an instance where in the buffering state change indications from the server use the key generated by the client (the SRV_OPEN address in itself is the best key that can be used). This implies that no further lookup is required.

However if this routine is called at DPC level, the indication is processed as if the lookup needs to be done.

If the resource for the FCB has already been acquired by this thread, the buffering state change indication is processed immediately without further delay. <b>RxIndicateChangeOfBufferingStateForSrvOpen</b> calls <b>RxChangeBufferingState</b> immediately in this case.

The internal routines called by this routine can fail because of a lack of available memory (unable to allocate non-paged pool memory, for example), but since this is a VOID routine no error is returned when this condition occurs.

If a buffering state request can be processed immediately instead of being queued for processing later, then <b>RxChangeBufferingState</b> can be called. 




## -see-also




<a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/content/rxcontx/ns-rxcontx-_rx_context">RX_CONTEXT</a>



<a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/content/rxprocs/nf-rxprocs-rxchangebufferingstate">RxChangeBufferingState</a>



<a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/content/rxprocs/nf-rxprocs-rxindicatechangeofbufferingstate">RxIndicateChangeOfBufferingState</a>
 

 

