---
UID: NS:wdbgexts._DBGKD_GET_VERSION64
title: _DBGKD_GET_VERSION64 (wdbgexts.h)
description: The IG_GET_KERNEL_VERSION Ioctl operation receives information related to the operating system version of the target.
old-location: debugger\ig_get_kernel_version.htm
tech.root: debugger
ms.assetid: 692e58b5-74ea-48f3-a9c2-81953b7d600d
ms.date: 05/03/2018
ms.keywords: "*PDBGKD_GET_VERSION64, DBGKD_GET_VERSION64, DBGKD_GET_VERSION64 structure [Windows Debugging], PDBGKD_GET_VERSION64, PDBGKD_GET_VERSION64 structure pointer [Windows Debugging], WdbgExts_Ref_33e7f185-3831-439b-9e92-8d942627f66b.xml, _DBGKD_GET_VERSION64, debugger.ig_get_kernel_version, wdbgexts/DBGKD_GET_VERSION64, wdbgexts/PDBGKD_GET_VERSION64"
ms.topic: struct
f1_keywords:
 - "wdbgexts/DBGKD_GET_VERSION64"
req.header: wdbgexts.h
req.include-header: Wdbgexts.h, Dbgeng.h
req.target-type: Windows
req.target-min-winverclnt: 
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
topic_type:
- APIRef
- kbSyntax
api_type:
- HeaderDef
api_location:
- wdbgexts.h
api_name:
- DBGKD_GET_VERSION64
product:
- Windows
targetos: Windows
req.typenames: DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64
---

# _DBGKD_GET_VERSION64 structure


## -description


The IG_GET_KERNEL_VERSION <a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/wdbgexts/nc-wdbgexts-pwindbg_ioctl_routine">Ioctl</a> operation receives information related to the operating system version of the target.  When calling <b>Ioctl</b> with <i>IoctlType</i> set to IG_GET_KERNEL_VERSION, <i>IpvData</i> should contain an instance of the DBGKD_GET_VERSION64 structure.


## -struct-fields




### -field MajorVersion

Receives 0xF if the target's operating system is a free build, and 0xC if it is a checked build.


### -field MinorVersion

Receives the build number for the target's operating system.


### -field ProtocolVersion

Receives the version of the debugger protocol that is used to communicate between the debugger and the target.


### -field KdSecondaryVersion

Receives a secondary version number that is used to distinguish among older, deprecated contexts.


### -field Flags

Receives a set of bit flags for the current debugging session.  The following flags can be present.

<table>
<tr>
<th>Flag</th>
<th>Meaning when set</th>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_MP

</td>
<td>
The target kernel was compiled with support for multiple processors.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_DATA

</td>
<td>
The list <b>DebuggerDataList</b> is valid.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_PTR64

</td>
<td>
The target uses 64-bit pointers.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_NOMM

</td>
<td>
The debugger's memory cache is active.  If this is not set, the debugger will convert all virtual addresses into physical address before accessing the target's memory.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_HSS

</td>
<td>
The target supports hardware stepping.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_PARTITIONS

</td>
<td>
Multiple operating system partitions exist.

</td>
</tr>
</table>
 


### -field MachineType

Receives the type of the target's processor.  Possible processor types are listed in the following table.

<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_I386

</td>
<td>
x86 architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_ARM

</td>
<td>
ARM architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_IA64

</td>
<td>
Intel Itanium architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_AMD64

</td>
<td>
x64 architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_EBC

</td>
<td>
EFI byte code architecture

</td>
</tr>
</table>
 


### -field MaxPacketType

Receives one plus the highest number for a debugger packet type recognized by the target.


### -field MaxStateChange

Receives one plus the highest number for a state change generated by the target.


### -field MaxManipulate

Receives one more that the highest number, recognized by the target, for a command to manipulate the target.


### -field Simulation

Receives an indication if the target is in simulated execution.  Possible values are listed in the following table.

<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
DBGKD_SIMULATION_NONE

</td>
<td>
No simulation is used.

</td>
</tr>
<tr>
<td>
DBGKD_SIMULATION_EXDI

</td>
<td>
EXDI simulation is used.

</td>
</tr>
</table>
 


### -field Unused

Unused.


### -field KernBase

Receives the base address of the kernel image.


### -field PsLoadedModuleList

Receives the value of the kernel variable <b>PsLoadedModuleList</b>.


### -field DebuggerDataList

Receives the value of the kernel variable <b>KdDebuggerDataBlock</b>.  This a pointer to either a KDDEBUGGER_DATA64 structure or a KDDEBUGGER_DATA32 structure.  Use the function <a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/wdbgexts/nf-wdbgexts-getdebuggerdata">GetDebuggerData</a> to fetch this structure.


## -remarks



The parameters for the IG_GET_KERNEL_VERSION <a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/wdbgexts/nc-wdbgexts-pwindbg_ioctl_routine">Ioctl</a> operation are the members of the DBGKD_GET_VERSION64 structure.

This operation is only available in kernel-mode debugging.




## -see-also




<a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/wdbgexts/nf-wdbgexts-getdebuggerdata">GetDebuggerData</a>



<a href="https://docs.microsoft.com/windows-hardware/drivers/ddi/wdbgexts/nc-wdbgexts-pwindbg_ioctl_routine">Ioctl</a>
 

 

